<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>The Music Player Daemon Protocol</title>
        <style>
            body, td {
                background: white;
                color: black;
                font-size: 10pt;
                font-family: Verdana, sans;
            }
            table, tr, td {
                border: 1px solid silver;
                border-collapse: collapse;
                vertical-align: top;
            }
            
                
        </style>
    </head>
    <body>
        <div class="chapter"><h1>Chapter 1. General protocol syntax</h1>
            <div class="section"><h2>Protocol overview</h2>
                <p>
                    The MPD command protocol exchanges line-based text records
                    between client and server over TCP.  Once the client is
                    connected to the server, they conduct a conversation until the
                    client closes the connection. The conversation flow is always
                    initiated by the client.
                </p>
                <p>
                    The client transmits a command sequence, terminated by the
                    newline character <code>\n</code>.  The server will
                    respond with one or more lines, the last of which will be a
                    completion code.
                </p>
                <p>
                    When the client connects to the server, the server will answer
                    with the following line:
                </p>
                <pre class="synopsis">OK MPD version</pre>
                <p>
                    where <code>version</code> is a version identifier such as
                    0.12.2.  This version identifier is the version of the protocol
                    spoken, not the real version of the daemon.  (There is no way to
                    retrieve this real version identifier from the connection.)
                </p>
            </div>
            <div class="section"><h2>Requests</h2>
                <code>COMMAND [<em>ARG</em>...]</code>
                <p>
                    If arguments contain spaces, they should be surrounded by double
                    quotation marks.
                </p>
                <p>
                    Argument strings are separated from the command and any other
                    arguments by linear white-space (' ' or '\t').
                </p>
                <p>
                    All data between the client and the server is encoded in
                    UTF-8.
                </p>
            </div>
            <div class="section"><h2>Responses</h2>
                <p>
                    A command returns <code>OK</code> on completion or
                    <code>ACK some error</code> on failure.  These
                    denote the end of command execution.
                </p>
                <div class="section"><h3>Failure responses</h3>
                    <p>
                        The nature of the error can be gleaned from the information
                        that follows the <code>ACK</code>.
                        <code>ACK</code> lines are of the form:
                    </p>
                    <pre>ACK [error@command_listNum] {current_command} message_text\n</pre>
                    <p>
                        These responses are generated by a call to
                        <code>commandError</code>. They contain four separate
                        terms. Let's look at each of them:
                    </p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" type="disc">
                            <li class="listitem">
                                <p>
                                    <span class="returnvalue">error</span>: numeric value of one
                                    of the <code class="constant">ACK_ERROR</code> constants defined
                                    in <code class="filename">ack.h</code>.
                                </p>
                            </li>
                            <li class="listitem">
                                <p>
                                    <span class="returnvalue">command_listNum</span>:
                                    offset of the command that caused the error in a <a class="link" href="ch01s04.html" title="Command lists">Command List</a>.
                                    An error will always cause a command list to terminate
                                    at the command that causes the error.
                                </p>
                            </li>
                            <li class="listitem">
                                <p>
                                    <span class="returnvalue">current_command</span>:
                                    name of the command, in a <a class="link" href="ch01s04.html" title="Command lists">Command List</a>,
                                    that was executing when the error occurred.
                                </p>
                            </li>
                            <li class="listitem">
                                <p>
                                    <span class="returnvalue">message_text</span>:
                                    some (hopefully) informative text that describes the
                                    nature of the error.
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div class="example">
                        <p>
                            An example might help. Consider the following sequence
                            sent from the client to the server.
                        </p>
                        <pre class="synopsis">
        command_list_begin
        volume 86
        play 10240
        status
        command_list_end
                        </pre>
                        <p>
                            The server responds with:
                            <span class="returnvalue">
                            ACK [50@1] {play} song doesn't exist: "10240"
                            </span>
                        </p>
                        <p>
                            This tells us that the play command, which was the
                            second in the list (the first or only command is
                            numbered 0), failed with error 50.  The number 50
                            translates to <code class="constant">ACK_ERROR_NO_EXIST</code>--the
                            song doesn't exist.  This is reiterated by the message text
                            which also tells us which song doesn't exist.
                        </p>
                    </div>
                </div>
            </div>
            <div class="section"><h2>Command lists</h2>
                <p>
                    To facilitate faster adding of files etc. you can pass a list
                    of commands all at once using a command list.  The command
                    list begins with <code>command_list_begin</code> or
                    <code>command_list_ok_begin</code> and ends with
                    <code>command_list_end</code>.
                </p>
                <p>
                    It does not execute any commands until the list has ended.
                    The return value is whatever the return for a list of commands
                    is.  On success for all commands,
                    <code>OK</code> is returned.  If a command
                    fails, no more commands are executed and the appropriate
                    <code>ACK</code> error is returned. If
                    <code>command_list_ok_begin</code> is used,
                    <code>list_OK</code> is returned for each
                    successful command executed in the command list.
                </p>
            </div>
            <div class="section"><h2>Ranges</h2>
                <p>
                    Some commands (e.g. <code>delete</code>)
                    allow specifying a range in the form
                    <em><code>START:END</code></em> (the <code>END</code>
                    item is not included in the range, similar to ranges in the
                    Python programming language).  If <code>END</code> is
                    omitted, then the maximum possible value is assumed.
                </p>
            </div>
        </div>
        <div class="chapter"><h1>Chapter 2. Command reference</h1>
            <div class="note"><h3>Note</h3>
                <p>
                    For manipulating playlists and playing, there are two sets of
                    commands.  One set uses the song id of a song in the playlist,
                    while another set uses the playlist position of the song. The
                    commands using song ids should be used instead of the commands
                    that manipulate and control playback based on playlist
                    position. Using song ids is a safer method when multiple
                    clients are interacting with MPD.
                </p>
            </div>
            <div class="section"><h2>Querying MPD's status</h2>
                <table>
                    <tr>
                        <td><code>clearerror</code></td>
                        <td>
                            Clears the current error message in status (this is also
                            accomplished by any command that starts playback).
                        </td>
                    </tr><tr>
                        <td><code>currentsong</code></td>
                        <td>
                            Displays the song info of the current song (same song that
                            is identified in status).
                        </td>
                    </tr><tr>
                        <td><code>idle [<em>SUBSYSTEMS</em>...]</code></td>
                        <td>
                            Waits until there is a noteworthy change in one or more
                            of MPD's subsystems.  As soon as there is one, it lists
                            all changed systems in a line in the format
                            <span class="returnvalue">changed: SUBSYSTEM</span>, where
                            SUBSYSTEM is one of the following:
                            <table>
                                <tr><td>database</td><td>
                                    the song database has been modified after 
                                    <code>update</code>.
                                </td></tr>
                                <tr><td>update</td><td>
                                    a database update
                                    has started or finished. If the database was
                                    modified during the update, the database event 
                                    is also emitted.
                                </td></tr>
                                <tr><td>stored_playlist</td><td>
                                    a stored playlist has been modified, renamed, 
                                    created or deleted
                                </td></tr>
                                <tr><td>playlist</td><td>
                                    the current playlist has been modified
                                </td></tr>
                                <tr><td>player</td><td>
                                    the player has been started, stopped or seeked
                                </td></tr>
                                <tr><td>mixer</td><td>
                                    the volume has been changed
                                </td></tr>
                                <tr><td>output</td><td>
                                    an audio output has been enabled or disabled
                                </td></tr>
                                <tr><td>options</td><td>
                                    options like <code>repeat</code>, <code>random</code>,
                                    <code>crossfade</code>, replay gain
                                </td></tr>
                                <tr><td>sticker</td><td>
                                    the sticker database has been modified.
                                </td></tr>
                                <tr><td>subscription</td><td>
                                    a client has subscribed or unsubscribed to a channel
                                </td></tr>
                                <tr><td>message</td><td>
                                    a message was received on a channel this client
                                    is subscribed to; this event is only emitted when
                                    the queue is empty
                                </td></tr>
                            </table>
                            <p>
                                While a client is waiting for <code>idle</code>
                                results, the server disables timeouts, allowing a client
                                to wait for events as long as mpd runs.  The
                                <code>idle</code> command can be canceled by
                                sending the command <code>noidle</code> (no other
                                commands are allowed). MPD will then leave
                                <code>idle</code> mode and print results
                                immediately; might be empty at this time.
                            </p>
                            <p>
                                If the optional <code>SUBSYSTEMS</code> argument is used,
                                MPD will only send notifications when something changed in
                                one of the specified subsytems.
                            </p>
                        </td>
                    </tr><tr>
                        <td><code>status</code></td>
                        <td>
                            Reports the current status of the player and the volume
                            level.
                            <table>
                                <tr><td>volume</td><td>0-100</td></tr>
                                <tr><td>repeat</td><td>0 or 1</td></tr>
                                <tr><td>random</td><td>0 or 1</td></tr>
                                <tr><td>single</td><td>0 or 1</td></tr>
                                <tr><td>consume</td><td>0 or 1</td></tr>
                                <tr><td>playlist</td><td>31-bit unsigned integer, the playlist version number</td></tr>
                                <tr><td>playlistlength</td><td>integer, the length of the playlist</td></tr>
                                <tr><td>state</td><td>play, stop, or pause</td></tr>
                                <tr><td>song</td><td>playlist song number of the current song stopped on or playing</td></tr>
                                <tr><td>songid</td><td>playlist songid of the current song stopped on or playing</td></tr>
                                <tr><td>nextsong</td><td>playlist song number of the next song to be played</td></tr>
                                <tr><td>nextsongid</td><td>playlist songid of the next song to be played</td></tr>
                                <tr><td>time</td><td>total time elapsed (of current playing/paused song)</td></tr>
                                <tr><td>bitrate</td><td>instantaneous bitrate in kbps</td></tr>
                                <tr><td>xfade</td><td>crossfade in seconds</td></tr>
                                <tr><td>mixrampdb</td><td>mixramp threshold in dB</td></tr>
                                <tr><td>mixrampdelay</td><td>mixrampdelay in seconds</td></tr>
                                <tr><td>audio</td><td>sampleRate:bits:channels</td></tr>
                                <tr><td>updating_db</td><td>job id</td></tr>
                                <tr><td>error</td><td>if there is an error, returns message here</td></tr>
                            </table>
                        </td>
                    </tr><tr>
                        <td><code>stats</code></td>
                        <td>
                            Displays statistics.
                            <table>
                                <tr><td>artists</td><td>number of artists</td></tr>
                                <tr><td>songs</td><td>number of albums</td></tr>
                                <tr><td>uptime</td><td>daemon uptime in seconds</td></tr>
                                <tr><td>db_playtime</td><td>sum of all song times in the db</td></tr>
                                <tr><td>db_update</td><td>last db update in UNIX time</td></tr>
                                <tr><td>playtime</td><td>time length of music played</td></tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="section"><h2>Playback options</h2>
                <table>
                    <tr>
                        <td><code>consume {<em>STATE</em>}</code></td>
                        <td>
                            Sets consume state to <code>STATE</code>, should be 0 or 1.
                            When consume is activated, each song played is removed from playlist.
                        </td>
                    </tr><tr>
                        <td><code>crossfade {<em>SECONDS</em>}</code></td>
                        <td>
                            Sets crossfading between songs.
                        </td>
                    </tr><tr>
                        <td><code>mixrampdb {<em>deciBels</em>}</code></td>
                        <td>
                            Sets the threshold at which songs will be 
                            overlapped. Like crossfading but doesn't fade 
                            the track volume, just overlaps. The songs need 
                            to have MixRamp tags added by an external tool. 
                            0dB is the normalized maximum volume so use 
                            negative values, I prefer -17dB. In the absence 
                            of mixramp tags crossfading will be used. See 
                            http://sourceforge.net/projects/mixramp
                        </td>
                    </tr><tr>
                        <td><code>mixrampdelay {<em>SECONDS</em>}</code></td>
                        <td>
                            Additional time subtracted from the overlap calculated by mixrampdb. A value of "nan" disables MixRamp overlapping and falls back to crossfading.
                        </td>
                    </tr><tr>
                        <td><code>random {<em>STATE</em>}</code></td>
                        <td>
                            Sets random state to <code>STATE</code>, should be 0 or 1.
                        </td>
                    </tr><tr>
                        <td><code>repeat {<em>STATE</em>}</code></td>
                        <td>
                            Sets repeat state to <code>STATE</code>, should be 0 or 1.
                        </td>
                    </tr><tr>
                        <td><code>setvol {<em>VOL</em>}</code></td>
                        <td>
                            Sets volume to <code>VOL</code>, the range of volume is 0-100.
                        </td>
                    </tr><tr>
                        <td><code>single {<em>STATE</em>}</code></td>
                        <td>
                            Sets single state to <code>STATE</code>, should be 0 or 1.
                            When single is activated, playback is stopped after current song, or
                            song is repeated if the 'repeat' mode is enabled.
                        </td>
                    </tr><tr>
                        <td><code>replay_gain_mode {<em>MODE</em>}</code></td>
                        <td>
                            Sets the replay gain mode. One of <code>off</code>, <code>track</code>, <code>album</code>.
                            <p>
                            Changing the mode during playback may take several
                            seconds, because the new settings does not affect the
                            buffered data.
                            </p>
                            <p>
                            This command triggers the options idle event.
                            </p>
                        </td>
                    </tr><tr>
                        <td><code>replay_gain_status</code></td>
                        <td>
                            Prints replay gain options. Currently, only the
                            variable <code>replay_gain_mode</code> is returned.
                        </td>
                    </tr>
                </table>
            </div>
            <div class="section"><h2>Controlling playback</h2>
                <table>
                    <tr>
                        <td><code>next</code></td>
                        <td>Plays next song in the playlist.</td>
                    </tr><tr>
                        <td><code>pause {<em>PAUSE</em>}</code></td>
                        <td>Toggles pause/resumes playing, <code>PAUSE</code> is 0 or 1.
                            The use of pause command w/o the PAUSE argument is deprecated.</td>
                    </tr><tr>
                        <td><code>play [<em>SONGPOS</em>]</code></td>
                        <td>Begins playing the playlist at song number
                            <code>SONGPOS</code>.</td>
                    </tr><tr>
                        <td><code>playid [<em>SONGID</em>]</code></td>
                        <td>Begins playing the playlist at song <code>SONGID</code>.</td>
                    </tr><tr>
                        <td><code>previous</code></td>
                        <td>Plays previous song in the playlist.</td>
                    </tr><tr>
                        <td><code>seek {<em>SONGPOS</em>} {<em>TIME</em>}</code></td>
                        <td>Seeks to the position <code>TIME</code> (in
                            seconds) of entry <code>SONGPOS</code> in the
                            playlist.</td>
                    </tr><tr>
                        <td><code>seekid {<em>SONGID</em>} {<em>TIME</em>}</code></td>
                        <td>Seeks to the position <code>TIME</code> (in
                            seconds) of song <code>SONGID</code>.</td>
                    </tr><tr>
                        <td><code>seekcur {<em>TIME</em>}</code></td>
                        <td>Seeks to the position <code>TIME</code> within the
                            current song.  If prefixed by '+' or '-', then the time
                            is relative to the current playing position.</td>
                    </tr><tr>
                        <td><code>stop</code></td>
                        <td>Stops playing.</td>
                    </tr>
                </table>
            </div>
            <div class="section"><h2>The current playlist</h2>
                <table>
                    <tr><td><code>add {<em>URI</em>}</code></td><td>
                        Adds the file <code>URI</code> to the playlist 
                        (directories add recursively). <code>URI</code> can also 
                        be a single file.

                    </td></tr><tr><td><code>addid {<em>URI</em>} [<em>POSITION</em>]</code></td><td>
                        Adds a song to the playlist (non-recursive) and returns 
                        the song id. <code>URI</code> is always a single file or 
                        URL. For example:
                        <pre>addid "foo.mp3"
Id: 999
OK</pre>
                    </td></tr><tr><td><code>clear</code></td><td>
                        Clears the current playlist.

                    </td></tr><tr><td><code>delete [{<em>POS</em>} | {<em>START:END</em>}]</code></td><td>
                        Deletes a song from the playlist.

                    </td></tr><tr><td><code>deleteid {<em>SONGID</em>}</code></td><td>
                        Deletes the song <code>SONGID</code> from the playlist

                    </td></tr><tr><td><code>move [{<em>FROM</em>} | {<em>START:END</em>}] {<em>TO</em>}</code></td><td>
                        Moves the song at <code>FROM</code> or range of songs at 
                        <code>START:END</code> to <code>TO</code> in the playlist.

                    </td></tr><tr><td><code>moveid {<em>FROM</em>} {<em>TO</em>}</code></td><td>
                        Moves the song with <code>FROM</code> (songid) to <code>
                        TO</code> (playlist index) in the playlist.  If <code>TO
                        </code> is negative, it is relative to the current song 
                        in the playlist (if there is one).

                    </td></tr><tr><td><code>playlist</code></td><td>
                        Displays the current playlist. Do not use this, instead 
                        use <code>playlistinfo</code>.

                    </td></tr><tr><td><code>playlistfind {<em>TAG</em>} {<em>NEEDLE</em>}</code></td><td>
                        Finds songs in the current playlist with strict matching.

                    </td></tr><tr><td><code>playlistid {<em>SONGID</em>}</code></td><td>
                        Displays a list of songs in the playlist. <code>SONGID
                        </code> is optional and specifies a single song to 
                        display info for.

                    </td></tr><tr><td><code>playlistinfo [[<em>SONGPOS</em>] | [<em>START:END</em>]]</code></td><td>
                        Displays a list of all songs in the playlist, or if the 
                        optional argument is given, displays information only 
                        for the song <code>SONGPOS</code> or the range of songs 
                        <code>START:END</code>

                    </td></tr><tr><td><code>playlistsearch {<em>TAG</em>} {<em>NEEDLE</em>}</code></td><td>
                        Searches case-sensitively for partial matches in the 
                        current playlist.

                    </td></tr><tr><td><code>plchanges {<em>VERSION</em>}</code></td><td>
                        Displays changed songs currently in the playlist since 
                        <code>VERSION</code>. <p> To detect songs that were 
                        deleted at the end of the playlist, use playlistlength 
                        returned by status command. </p>

                    </td></tr><tr><td><code>plchangesposid {<em>VERSION</em>}</code></td><td>
                        Displays changed songs currently in the playlist since 
                        <code>VERSION</code>.  This function only returns the 
                        position and the id of the changed song, not the 
                        complete metadata. This is more bandwidth efficient. <p> 
                        To detect songs that were deleted at the end of the 
                        playlist, use playlistlength returned by status command. 
                        </p>

                    </td></tr><tr><td><code>prio {<em>PRIORITY</em>} {<em>START:END</em>...}</code></td><td>
                        Set the priority of the specified songs.  A higher 
                        priority means that it will be played first when 
                        "random" mode is enabled. <p> A priority is an integer 
                        between 0 and 255. The default priority of new songs is 
                        0. </p>

                    </td></tr><tr><td><code>prioid {<em>PRIORITY</em>} {<em>ID</em>...}</code></td><td>
                        Same as <code>prio</code> but address the songs with their id.

                    </td></tr><tr><td><code>shuffle [<em>START:END</em>]</code></td><td>
                        Shuffles the current playlist. <code>START:END</code> is 
                        optional and specifies a range of songs.

                    </td></tr><tr><td><code>swap {<em>SONG1</em>} {<em>SONG2</em>}</code></td><td>
                        Swaps the positions of <code>SONG1</code> and <code>SONG2
                        </code>.

                    </td></tr><tr><td><code>swapid {<em>SONG1</em>} {<em>SONG2</em>}</code></td><td>
                        Swaps the positions of <code>SONG1</code> and <code>SONG2
                        </code> (both song ids).
                    
                    </td></tr>
                </table>
            </div>
            <div class="section"><h2>Stored playlists</h2>
                <p>
                Playlists are stored inside the configured playlist directory.
                They are addressed with their file name (without the directory
                and without the <code>.m3u</code> suffix).
                </p><p>
                Some of the commands described in this section can be used to
                run playlist plugins instead of the hard-coded simple
                <code>m3u</code> parser.  They can access playlists in
                the music directory (relative path including the suffix) or
                remote playlists (absolute URI with a supported scheme).
                </p>
                <table>
                    <tr><td><code>listplaylist {<em>NAME</em>}</code></td><td>
                        Lists the songs in the playlist.  Playlist plugins are
                        supported.

                    </td></tr><tr><td><code>listplaylistinfo {<em>NAME</em>}</code></td><td>
                        Lists the songs with metadata in the playlist. Playlist
                        plugins are supported.

                    </td></tr><tr><td><code>listplaylists</code></td><td>
                        Prints a list of the playlist directory. <p> After 
                        each playlist name the server sends its last 
                        modification time as attribute "Last-Modified" in 
                        ISO 8601 format.  To avoid problems due to clock 
                        differences between clients and the server, clients 
                        should not compare this value with their local 
                        clock. </p>

                    </td></tr><tr><td><code>load {<em>NAME</em>} [<em>START:END</em>]</code></td><td>
                        Loads the playlist into the current queue. Playlist
                        plugins are supported.  A range may be specified to load
                        only a part of the playlist.

                    </td></tr><tr><td><code>playlistadd {<em>NAME</em>} {<em>URI</em>}</code></td><td>
                        Adds <code>URI</code> to the playlist <code>NAME.m3u
                        </code>. Will be created if it does not exist.

                    </td></tr><tr><td><code>playlistclear {<em>NAME</em>}</code></td><td>
                        Clears the playlist <code>NAME.m3u</code>.

                    </td></tr><tr><td><code>playlistdelete {<em>NAME</em>} {<em>SONGPOS</em>}</code></td><td>
                        Deletes <code>SONGPOS</code> from the playlist <code>
                        NAME.m3u</code>.

                    </td></tr><tr><td><code>playlistmove {<em>NAME</em>} {<em>SONGID</em>} {<em>SONGPOS</em>}</code></td><td>
                        Moves <code>SONGID</code> in the playlist <code>
                        NAME.m3u</code> to the position <code>SONGPOS</code>.

                    </td></tr><tr><td><code>rename {<em>NAME</em>} {<em>NEW_NAME</em>}</code></td><td>
                        Renames the playlist <code>NAME.m3u</code> to <code>NEW_NAME.m3u</code>.

                    </td></tr><tr><td><code>rm {<em>NAME</em>}</code></td><td>
                        Removes the playlist <code>NAME.m3u</code> from
                        the playlist directory.

                    </td></tr><tr><td><code>save {<em>NAME</em>}</code></td><td>
                        Saves the current playlist to <code>
                        NAME.m3u</code> in the playlist directory.
                    
                    </td></tr>
                </table>
            </div>
            <div class="section"><h2>The music database</h2>
                <table>
                    <tr><td><code>count {<em>TAG</em>} {<em>NEEDLE</em>}</code></td><td>
                        Counts the number of songs and their total playtime 
                        in the db matching <code>TAG</code> exactly.

                    </td></tr><tr><td><code>find {<em>TYPE</em>} {<em>WHAT</em>} [<em>...</em>]</code></td><td>
                        Finds songs in the db that are exactly <code>WHAT
                        </code>. <code>TYPE</code> can be any tag supported 
                        by MPD, or one of the two special parameters — <code>
                        file</code> to search by full path (relative to 
                        database root), and <code>any</code> to match against 
                        all available tags. <code>WHAT</code> is what to 
                        find.

                    </td></tr><tr><td><code>findadd {<em>TYPE</em>} {<em>WHAT</em>} [<em>...</em>]</code></td><td>
                        Finds songs in the db that are exactly <code>WHAT
                        </code> and adds them to current playlist. 
                        Parameters have the same meaning as for 
                        <code>find</code>.

                    </td></tr><tr><td><code>list {<em>TYPE</em>} [<em>ARTIST</em>]</code></td><td>
                        Lists all tags of the specified type. <code>TYPE
                        </code> can be any tag supported by MPD or <code>file
                        </code>. <code>ARTIST</code> is an optional parameter 
                        when type is album, this specifies to list albums by 
                        an artist.

                    </td></tr><tr><td><code>listall [<em>URI</em>]</code></td><td>
                        Lists all songs and directories in <code>URI</code>

                    </td></tr><tr><td><code>listallinfo [<em>URI</em>]</code></td><td>
                        Same as <code>listall</code>, 
                        except it also returns metadata info in the same 
                        format as <code>lsinfo</code>.

                    </td></tr><tr><td><code>lsinfo [<em>URI</em>]</code></td><td>
                        Lists the contents of the directory <code>URI</code>.
                        <p> When listing the root directory, this 
                        currently returns the list of stored playlists.  
                        This behavior is deprecated; use "listplaylists" 
                        instead. </p><p> Clients that are connected via UNIX 
                        domain socket may use this command to read the tags 
                        of an arbitrary local file (URI beginning with 
                        "file:///"). </p>

                    </td></tr><tr><td><code>search {<em>TYPE</em>} {<em>WHAT</em>} [<em>...</em>]</code></td><td>
                        Searches for any song that contains <code>WHAT</code>.
                        Parameters have the same meaning as for <code>find</code>,
                        except that search is not case sensitive.

                    </td></tr><tr><td><code>searchadd {<em>TYPE</em>} {<em>WHAT</em>} [<em>...</em>]</code></td><td>
                        Searches for any song that contains <code>WHAT</code>
                        in tag <code>TYPE</code> and adds them to current 
                        playlist. Parameters have the same meaning 
                        as for <code>find</code>, except 
                        that search is not case sensitive.

                    </td></tr><tr><td><code>searchaddpl {<em>NAME</em>} {<em>TYPE</em>} {<em>WHAT</em>} [<em>...</em>]</code></td><td>
                        Searches for any song that contains <code>WHAT</code>
                        in tag <code>TYPE</code> and adds them to the 
                        playlist named <code>NAME</code>. <p> If a 
                        playlist by that name doesn't exist it is created. 
                        </p><p> Parameters have the same meaning as for 
                        <code>find</code>, except that search is not case 
                        sensitive.</p>

                    </td></tr><tr><td><code>update [<em>URI</em>]</code></td><td>
                        Updates the music database: find new files, remove 
                        deleted files, update modified files.<p> <code>
                        URI</code> is a particular directory or song/file to 
                        update.  If you do not specify it, everything is 
                        updated. </p><p> Prints "updating_db: JOBID" where 
                        <code>JOBID</code> is a positive number identifying 
                        the update job.  You can read the current job id in 
                        the <code>status</code> response. </p>

                    </td></tr><tr><td><code>rescan [<em>URI</em>]</code></td><td>
                        Same as <code>update</code>, but also rescans 
                        unmodified files.
                    </td></tr>
                </table>
            </div>
            <div class="section"><h2>Stickers</h2>
                <p>
                "Stickers" are pieces of
                information attached to existing MPD objects (e.g. song files,
                directories, albums).  Clients can create arbitrary name/value
                pairs.  MPD itself does not assume any special meaning in
                them.
                </p><p>
                The goal is to allow clients to share additional (possibly
                dynamic) information about songs, which is neither stored on
                the client (not available to other clients), nor stored in the
                song files (MPD has no write access).
                </p><p>
                Client developers should create a standard for common sticker
                names, to ensure interoperability.
                </p><p>
                Objects which may have stickers are addressed by their object
                type ("song" for song objects) and their URI (the path within
                the database for songs).
                </p>
                <table>
                    <tr><td><code>sticker get {<em>TYPE</em>} {<em>URI</em>} {<em>NAME</em>}</code></td><td>
                            Reads a sticker value for the specified object.

                    </td></tr><tr><td><code>sticker set {<em>TYPE</em>} {<em>URI</em>} {<em>NAME</em>} {<em>VALUE</em>}</code></td><td>
                            Adds a sticker value to the specified object.  If a
                            sticker item with that name already exists, it is
                            replaced.

                    </td></tr><tr><td><code>sticker delete  <em>TYPE</em>} {<em>URI</em>} [<em>NAME</em>]</code></td><td>
                            Deletes a sticker value from the specified object.  If
                            you do not specify a sticker name, all sticker values
                            are deleted.

                    </td></tr><tr><td><code>sticker list {<em>TYPE</em>} {<em>URI</em>}</code></td><td>
                            Lists the stickers for the specified object.

                    </td></tr><tr><td><code>sticker find {<em>TYPE</em>} {<em>URI</em>} {<em>NAME</em>}</code></td><td>
                            Searches the sticker database for stickers with the
                            specified name, below the specified directory (URI).
                            For each matching song, it prints the URI and that one
                            sticker's value.
                    </td></tr>
                </table>
            </div>
            <div class="section"><h2>Connection settings</h2>
                <table>
                    <tr><td><code>close</code></td><td>
                            Closes the connection to MPD.

                    </td></tr><tr><td><code>kill</code></td><td>
                            Kills MPD.

                    </td></tr><tr><td><code>password {<em>PASSWORD</em>}</code></td><td>
                            This is used for authentication with the server.
                            <code>PASSWORD</code> is simply the plaintext
                            password.

                    </td></tr><tr><td><code>ping</code></td><td>
                            Does nothing but return "OK".
                    </td></tr>
                </table>
            </div>
            <div class="section"><h2>Audio output devices</h2>
                <table>
                    <tr><td><code>disableoutput {<em>ID</em>}</code></td><td>
                            Turns an output off.

                    </td></tr><tr><td><code>enableoutput {<em>ID</em>}</code></td><td>
                            Turns an output on.

                    </td></tr><tr><td><code>outputs</code></td><td>
                            Shows information about all outputs.
                    </td></tr>
                </table>
            </div>
            <div class="section"><h2>Reflection</h2>
                <table>
                    <tr><td><code>config</code> </td><td>
                            Dumps configuration values that may be interesting for
                            the client.  This command is only permitted to "local"
                            clients (connected via UNIX domain socket).
                            The following response attributes are available:
                            <p><code>music_directory</code>: The absolute path of the music directory.</p>

                    </td></tr><tr><td><code>commands</code> </td><td>
                            Shows which commands the current user has access to.

                    </td></tr><tr><td><code>notcommands</code> </td><td>
                            Shows which commands the current user does not have
                            access to.

                    </td></tr><tr><td><code>tagtypes</code> </td><td>
                            Shows a list of available song metadata.

                    </td></tr><tr><td><code>urlhandlers</code> </td><td>
                            Gets a list of available URL handlers.

                    </td></tr><tr><td><code>decoders</code> </td><td>
                            Print a list of decoder plugins, followed by their
                            supported suffixes and MIME types. Example response:
                            <pre class="programlisting">plugin: mad
suffix: mp3
suffix: mp2
mime_type: audio/mpeg
plugin: mpcdec
suffix: mpc</pre>
                    </td></tr>
                </table>
            </div>
            <div class="section"><h2>Client to client</h2>
                <p>
                Clients can communicate with each others over "channels".  A
                channel is created by a client subscribing to it.  More than
                one client can be subscribed to a channel at a time; all of
                them will receive the messages which get sent to it.
                </p><p>
                Each time a client subscribes or unsubscribes, the global idle
                event <code>subscription</code> is generated. In
                conjunction with the <code>channels</code> command, this
                may be used to auto-detect clients providing additional
                services.
                </p><p>
                New messages are indicated by the <code>message</code>
                idle event.
                </p>
                <table>
                    <tr><td><code>subscribe {<em>NAME</em>}</code></td><td>
                            Subscribe to a channel. The channel is created if it
                            does not exist already. The name may consist of
                            alphanumeric ASCII characters plus underscore, dash, dot
                            and colon.

                    </td></tr><tr><td><code>unsubscribe {<em>NAME</em>}</code></td><td>
                            Unsubscribe from a channel.

                    </td></tr><tr><td><code>channels</code></td><td>
                            Obtain a list of all channels.  The response is a list
                            of "channel:" lines.

                    </td></tr><tr><td><code>readmessages</code></td><td>
                            Reads messages for this client.  The response is a list
                            of "channel:" and "message:" lines.

                    </td></tr><tr><td><code>sendmessage {<em>CHANNEL</em>} {<em>TEXT</em>}</code></td><td>
                            Send a message to the specified channel.
                    </td></tr>
                </table>
            </div>
        </div>
    </body>
</html>
